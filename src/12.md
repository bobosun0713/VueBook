# Pinia ( 資料管理 ) 
- [Pinia官方](https://pinia.vuejs.org/)
- [Pinia中文文檔](https://pinia.web3doc.top/introduction.html)


## 安裝方式
- 如果使用vite啟動vue的專案，在選擇配置上已有是否安裝pinia的選項！
```sh
// 此為vite啟動vue的專案
npm init vite@latest
```
- 手動安裝pinia
```sh
npm install pinia
```


## Pinia - 起手式

<!--sec data-title="起手式 範例 :" data-id="section1" data-show=true ces-->

```js
// stores.js
// 引入 defineStore 方法 
import { defineStore } from 'pinia'

export default defineStore({
 // 需定義唯一的id，必須加上
  id: 'user',
  state: () => ({
    userList: [1,2,3,4,5,6]
  }),
})
```

```xml
<script setup>

// component.vue
// useStore方法類似於 ( vuex4.0 useStore方法功能一樣，用來訪問store資料 )
import { useStore } from '@/stores/index'
const store = useStore()

</script>

<template>
    <ul>
        <li v-for="user in store.userList" :key="user">{{ user }}</li>
    </ul>
</template>
```

這邊需注意的是useStore回傳的是一個proxy包裹對象( 如vue3 reactive )，使用上不用.value取值，這邊直得注意的事，如果使用解構的方式需使用storeToRefs()方法，重新綁定

```xml
<script setup>
import { useStore } from '@/stores/index'
import { storeToRefs } from 'pinia'

const store = useStore()
const { userList } = storeToRefs(store)

</script>

<template>
    <ul>
        <li v-for="user in userList" :key="user">{{ user }}</li>
    </ul>
</template>
```

<!--endsec-->
