# Vue 生命週期

Vue 的網頁是由許多各大小的元件組成而成，可能會疑惑哪些都是元件呢？ 只要使 Vue components 引入的都是元件，包含根目入也都是元件，所以每個元件從實體、掛載、更新、銷毀，這一連串的過成我們稱它為生命週期，在這邊 Vue2 與 Vue3 生命週期都大同小異，只差在名稱的不同，生命週期對應處理的函式，我們稱作為 Hooks function ( 生命週期鉤子函式 )。

- Vue2 生命週期列表 :

| Hooks 名稱    | 說明                                                                                                                |
| ------------- | ------------------------------------------------------------------------------------------------------------------- |
| beforeCreate  | Ｖ ue 實體未建立，但狀態與事件還未初始化                                                                            |
| created       | Vue 實體已建立，狀態與事件初始化完成(props、data、computed 已建立完成），但$el 屬性還不能使用（還沒與 DOM 節點綁定) |
| beforeMount   | Vue 實體尚未與 DOM 節點綁定                                                                                         |
| mounted       | Vue 實體與 DOM 節點掛載完成 （已可使用$el 屬性）                                                                    |
| beforeUpdate  | 狀態變動時，畫面更新 "前"                                                                                           |
| updated       | 狀態變動時，畫面更新 "後"                                                                                           |
| beforeDestroy | Vue 實體被銷毀 "前"                                                                                                 |
| destroyed     | Vue 實體被銷毀 "後"                                                                                                 |
| errorCaptured | 子/孫組件錯誤時調用                                                                                                 |
| activated     | 被 keep-alive 缓存的组件時調用                                                                                      |
| deactivated   | 被 keep-alive 缓存的组件被解除時調用                                                                                |

- Vue3 生命週期列表 :

| Hooks 名稱                           | 說明                                                                                                                  |
| ------------------------------------ | --------------------------------------------------------------------------------------------------------------------- |
| setup ( beforeCreate 被 setup 取代 ) | Ｖ ue 實體未建立，但狀態與事件還未初始化                                                                              |
| setup ( created 被 setup 取代 )      | Vue 實體已建立，狀態與事件初始化完成(props、data、computed 已建立完成），但$el 屬性還不能使用（ 還沒與 DOM 節點綁定 ) |
| onBeforeMount                        | Vue 實體尚未與 DOM 節點綁定                                                                                           |
| onMounted                            | Vue 實體與 DOM 節點掛載完成 （已可使用$el 屬性）                                                                      |
| onBeforeUpdate                       | 狀態變動時，畫面更新 "前"                                                                                             |
| onUpdated                            | 狀態變動時，畫面更新 "後"                                                                                             |
| onBeforeUnmount                      | Vue 實體被銷毀 "前"                                                                                                   |
| onUnmounted                          | Vue 實體被銷毀 "後"                                                                                                   |
| onErrorCaptured                      | 子/孫組件錯誤時調用                                                                                                   |
| onActivated                          | 被 keep-alive 缓存的组件時調用                                                                                        |
| onDeactivated                        | 被 keep-alive 缓存的组件被解除時調用                                                                                  |

> 這邊需要特別說，在 Vue3 setup 來說，是介於 beforeCreate 與 created 之間，但其實他們的生命週期是 setup 最先開始：

    ```javascript=
    // 可使用以下代碼測試：
    export default ({
        beforeCreate() {
            console.log("＝＝＝beforeCreate＝＝＝");
        },
        created() {
            console.log("＝＝＝created＝＝＝");
        },
        setup() {
            console.log("＝＝＝setup＝＝＝");
        },
    });
    ```
