# setup
這邊開始介紹一下setup ( Composition API ) 與Options API 不一樣的地方，在setup()裡通常都有包含Lifecycle Hooks( 生命週期鉤子 )、狀態資料等，但有些程式邏輯不一定都要在這裡面做定義，可以透過引入( import )的方式來使用，但透過setup（）函式需要透過return回傳回去。

```javascript=
// 定義玩參數要回傳出去，才能在template模板使用！
export default {
    setup(props) {
        const text = '文字...'
        return { text }
    }
}
```

> 在這邊需要中在setup()函式裡面，避免使用"this"，會找不到組建實例，如同[生命週期的範例](src/../03.md)，setup()函式的調用在beforeCreate、created的前面，簡單來說setup()函式在組件解析之前就被調用，所以"this"會無法在setup中獲取！！

## 參數 props / context
setup()函式被呼叫時，會接收兩種參數 1.props  2.context

### props : 
> 1. 調用props時需要透過props來取的相對應props的內容。
> 2. props可以在setup()函式中解構出來，但是會消除prop響應式特性，如果需要解構，需使用[toRefs]()來操作。

```
export default {
    props:{
        type: String,
        default:"normal"
    },
    setup(props,context) {
        
        console.log(props,type)
        return {}
    }
}
```

### context :  <div id="test"></div>

> context為setup()函式第二個參數Object，可以透過解構的方式取出attrs、slots、emit、expose

```
export default {
    setup(props,{ attrs, slots, emit, expose }) {
        console.log('emit => ',emit)
        console.log('attrs => ',attrs)
        return {}
    }
}
```