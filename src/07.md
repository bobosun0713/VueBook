# Teleport (傳送)

Teleport 是 Vue3 新增的功能，可以使我們模板內的 DOM，渲染到指定的位置，這功能解決我們在使用 modal、alert 等視窗選位置被嵌套在組件 DOM 上，可能會造成 position 的顯示問題等等！

> [!note]
> Teleport 語法 :
  1. 需使用<span style="color:red;">teleport</span>標籤，把內容放進去，並指定到某個 DOM
  2. <span style="color:red;">teleport</span>標籤的 attribute 屬性有：
      - to: 指定選染到某個標籤（需使用有效的選擇器 id、class、data- 等）
      - disabled: 預設使 false 為禁用 <span style="color:red;">teleport</span>功能，可用在某些特殊情境下

<!--sec data-title="Teleport 使用範例 :" data-id="section1" data-show=true ces-->

```xml
// 父組件
<script>
import { ref } from "vue";
import modal from "./components/modal.vue";
export default {
  name: "App",
  components: {
    modal,
  },
  setup() {
    const isShowModal = ref(false);
    return { isShowModal };
  },
};
</script>

<template>
  <button type="button" @click="isShowModal = !isShowModal">開啟modal</button>
  <modal :show="isShowModal" text="modal"></modal>
</template>

```

```xml
// modal組件
<script>
export default {
  name: "modal",
  props: {
    show: {
      type: Boolean,
      default: true,
    },
    text: {
      type: String,
      default: "",
    },
  },
};
</script>

<template>
 <!-- to : 指定渲染到body裡，可使用devtools觀看modal組件位置 -->
  <teleport to="body">
    <div v-if="show" class="modal">{{ text }}</div>
  </teleport>
</template>

<style>
.modal {
  border: 1px solid;
  width: 300px;
  height: 200px;
  position: relative;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
</style>
```

<!--endsec-->


<!--sec data-title="Teleport 多個傳送門，指定到某個 DOM 節點範例 :" data-id="section2" data-show=true ces-->

```xml
// 父組件
<script>
import { ref } from "vue";
import modal from "./components/modal.vue";
export default {
  name: "App",
  components: {
    modal,
  },
  setup() {
    const isShowModal1 = ref(false);
    const isShowModal2 = ref(false);
    return { isShowModal1, isShowModal2 };
  },
};
</script>

<template>
  <button type="button" @click="isShowModal1 = !isShowModal1">開啟modal1</button>
  <modal :show="isShowModal1" text="modal1"></modal>

  <br />
  <br />

  <button type="button" @click="isShowModal2 = !isShowModal2">開啟modal2</button>
  <modal :show="isShowModal2" text="modal2"></modal>
</template>

```

<!--endsec-->


<!--sec data-title="Teleport disabled 使用範例 : 在這邊能看到目前 modal 組件被掛載在 被 Vue 綁定的 DOM 節點裡面，而不是與 Vue 綁定的 DOM 節點 同為一層！" data-id="section3" data-show=true ces-->

```xml
// modal組件
<script>
export default {
  name: "modal",
  props: {
    show: {
      type: Boolean,
      default: true,
    },
    text: {
      type: String,
      default: "",
    },
  },
};
</script>

<template>
 <!-- :disabled 設為true的時候，可以從devtools工具查看，目前modal組件位置部沒有被轉移到與Vue 綁定的 DOM 節點同層！ -->
  <teleport to="body" :disabled="true">
    <div v-if="show" class="modal">{{ text }}</div>
  </teleport>
</template>
```

<!--endsec-->
