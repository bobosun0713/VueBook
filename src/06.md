# v-model 改動

v-model 在 Vue3 中有以下的改動

1. prop 名稱 : 由 value --(轉變)--> modelValue
2. input 事件 : 改為 update:modelValue
3. 移除 model()函式
4. 支援同個組件多個 v-model 綁定，只需在 v-model:(參數名稱)
5. 整合 v-bind 的.sync 語法，替會為 v-model 參數 ( Vue2 的.sync 整合到 v-model )。
6. 可自定義 v-model 修飾符

> v-model 示範：

```javascript=
// 父組件
<template>
  <TestComponent v-model="num"></TestComponent>
  <!-- 等同於(與Veu2的.sync相似) -->
<!-- <TestComponent :modelValue="num" @update:modalValue="num"></TestComponent> -->
</template>

<script>
import TestComponent from "./components/Test.vue";
export default {
  name: "App",
  components: {
    TestComponent,
  },
  setup() {
    const num = ref(1);
    return { num }
  },
};
</script>
```

```javascript=
// 子組件
<template>
  <div>modalValue : {{ modalValue }}</div>
  // 在Vue2中v-model適用input去觸發事件，到了Vue3改成update:modelValue來觸發
  <button type="button" @click="$emit('update:modelValue', modalValue + 1)"></button>
</template>

<script>
export default {
  name: "TestComponent",
  props: {
    modalValue: {
      type: String,
      default: "",
    },
  },
};
</script>
```

> 多個 v-model 示範：

```javascript=
// 父組件
<template>
  <!-- 在v-model增加及參數的名稱  -->
  <TestComponent v-model:num1="num1" v-model:num2="num2"></TestComponent>
</template>

<script>
import { ref } from "vue";
import TestComponent from "./components/Test.vue";
export default {
  name: "App",
  components: {
    TestComponent,
  },
  setup() {
    const num1 = ref(1);
    const num2 = ref(1);
    return {
      num1,
      num2,
    };
  },
};
</script>
```

```javascript=
// 子組建
<template>
  <div>num1 : {{ num1 }}</div>
  <button type="button" @click="$emit('update:num1', num1 + 1)">+1</button>

  <hr />

  <div>num2 : {{ num2 }}</div>
  // emit上去要修改的名稱，要對應父子層傳下來的名稱相同
  <button type="button" @click="$emit('update:num2', num2 + 1)">+1</button>
</template>

<script>
export default {
  name: "TestComponent",
  // props的名稱要對應父子層傳下來的名稱相同
  props: {
    num1: {
      type: Number,
      default: 1,
    },
    num2: {
      type: Number,
      default: 1,
    },
  },
};
</script>
```
