# Vue3 安裝 

在使用 Vue 框架來說其實蠻彈性的，可使用 CDN 或者下載 JS 直接引入外，也可以使用官方的 Vue-CLI 或 Vite(新推出腳手架)來使用（這邊以 Vite 做開發）

<!--sec data-title="使用 CDN 或載入ＪＳ方式 :" data-id="section1" data-show=true ces-->

  ```xml
    <!-- Vue3 cdn 網址 -->
     <script src="https://unpkg.com/vue@3.2.33/dist/vue.esm-browser.js"></script>
  ```

<!--endsec-->


<!--sec data-title="透過 Vue-CLI 安裝 或 Vite 安裝 :" data-id="section2" data-show=true ces-->

  ```xml
    # 使用CLi安裝須先安裝Ｖue-CLI
    $ npm i -g @vue/cli

    # 使用vite安裝
    $ npm init vite@latest
  ```

<!--endsec-->

> [!note]
> [Vue 官方文檔](https://vuejs.org/) / [Vite 官方中文文檔](https://cn.vitejs.dev/)

## Vite 路徑別名設置
使用Vite alias 類似於 webpack 設置的別名一樣，當今天檔案路徑很多層時，可透過"別名"來避免引入資源是而出錯！

<!--sec data-title="路徑別名設置 :" data-id="section3" data-show=true ces-->

  ```js=
  // vite.config.js
  import { resolve } from 'path';

  export default defineConfig({
    resolve: {
      alias: {
        '@': resolve(__dirname, 'src'),
      }
    },
  }
  ```

<!--endsec-->

> [!note]
> path 在 node 環境是很常使用的 module，專門處理關於路徑相關的都會使用 path 來操作 
  - path.resolve() : 把相對路徑的計算成絕對路徑 通常都會搭配 __dirname 環境變量來操作
  - path 還有其他 API 可使用，這邊就暫且不多說，可以參考 [Node文檔(中)](http://nodejs.cn/api/querystring.html) | [Node文檔(英)](https://nodejs.org/en/)

> [!note]
> Node 環境變量 :
  - __dirname : 返回當前所在的位置 “目錄" 的絕對路徑
  - __filename : 返回當前 "文件" 被解析過後的絕對路徑
  - 顧名思義 dir 指的就是目錄，而 file 指的是文件，使用 __filename 會比 __dirname 多一個文件名稱


## ESLint、Prettier 安裝 : 程式碼檢查/排版

<!--sec data-title="ESLint 安裝流程 :" data-id="section4" data-show=true ces-->

  1. 安裝 ESLint :
      ```
      npm install eslint
      ```
  2. 初始化 ESLint : 
      ```
      npx eslint --init
      ```
  3. 選擇模式 : 選擇 To check syntax and find problems
     ```
     You can also run this command directly using 'npm init @eslint/config'.
      ? How would you like to use ESLint? … 
        To check syntax only
      ❯ To check syntax and find problems
        To check syntax, find problems, and enforce code style
     ```
  4. 選擇模塊規範 : 選 JavaScript modules
     ```
      ? What type of modules does your project use? … 
      ❯ JavaScript modules (import/export)
        CommonJS (require/exports)
        None of these
     ```
  5. 選擇使用的框架 : 這邊選 Vue
     ```
      ? Which framework does your project use? … 
        React
      ❯ Vue.js
        None of these
     ```
  6. 使否使用 TS : 可裝可不裝，依自身習慣而定
     ```
     ? Does your project use TypeScript? › No / Yes
     ```  
  7. 選擇執行的環境 : 可用空白鍵去選，這邊選擇 Browser + Node
     ```
     ? Where does your code run? …  (Press <space> to select, <a> to toggle all, <i> to invert selection)
     ✔ Browser
     ✔ Node
     ```
  8. 這邊是 ESLint 問喜歡配置文件是什麼格式 : 看個人而定
      ```
      ? What format do you want your config file to be in? … 
      ❯ JavaScript
        YAML
        JSON
      ```
  9. 以上選擇完，ESLint 提示說你所選擇的配置有依賴要安裝，是否現在安裝呢? : 這邊選 yes 就好，由 ESLint 去幫忙找尋缺少的依賴，省得自己去找！
      ```
      The config that you've selected requires the following dependencies:

      eslint-plugin-vue@latest
      ? Would you like to install them now? › No / Yes
      ```
  10. 以上選擇完，會提示你想用哪個套件管理器安裝 : 這邊選則 npm (這邊都是自己情況而定，看自己習慣哪種套件管理工具)
        ```
        ? Which package manager do you want to use? … 
        ❯ npm
          yarn
          pnpm
        ```
  11. 以上做完後，目錄會產生 .eslintrc.cjs 文件
  12. 安裝 vue-eslint-parser : 主要用於 Vite 運行的时候自動檢測 ESLint 規範 : [vue-eslint-parser文檔](https://www.npmjs.com/package/vue-eslint-parser)
      ```
      // 需求版本 :
      Node.js ^14.17.0, 16.0.0 or later
      ESLint 6.0.0 or later.
      
      //  安奘指令 :
      npm install vue-eslint-parser -D
      ```
  13. 最後在 package.json 添加以下腳本來修復錯誤的地方！
      ```json
      // package.json
      "scripts": {
        "lint": "eslint --fix src/*.{ts,vue} && eslint --fix src/**/*.{ts,vue}"
      }
      ```

   
> [!note]
> 以上的安裝方式，由 ESLint CLI 安裝 ，但其實如果夠熟系配置，可自行安裝依賴配置
  - [ESLint CLI 介紹](https://eslint.org/docs/latest/user-guide/command-line-interface)

<!--endsec-->

<!--sec data-title="Prettier 安裝流程 :" data-id="section5" data-show=true ces-->
  1. 安裝以下套件 :
     ```
     npm install -D prettier 
     npm install -D eslint-config-prettier  // 關閉所有不必要或跟prettier產生衝突的規則
     npm install -D eslint-plugin-prettier // 讓 ESlint 使用 prettier 規則進行檢查

     // 可簡寫為 
     npm install -D prettier eslint-config-prettier eslint-plugin-prettier
     ```
  
  2. 設定 .prettier.config.cjs 配置
     ```js
       module.exports = {
        tabWidth: 2, // 空格縮排
        semi: true, // 代碼結尾是否加分號
        trailingComma: 'none', // 末尾不加逗號
        singleQuote: true, // 使用單引號
        printWidth: 150, // 超過字數限制換行
        arrowParens: 'avoid', // 單個參數不加括號 (箭頭函示)
        bracketSpacing: true // 物件屬性{}號兩邊加上空白
      };
     ```

<!--endsec-->


> [!note]
> 在設定配置檔時，要注意配置檔的檔案格式為如何，如果 package.json 的 type 為 module 時，配置檔的副檔名要改成 .cjs 或改用 .json 的副檔名來設定，通常編輯器會提示哪裡出現錯誤可依循錯誤來做調整！
  - vite 啟動的專案 package.json 的 type 預設為 module ！



## 導入 Tailwindcss 

<!--sec data-title="Tailwindcss 安裝流程 :" data-id="section5" data-show=true ces-->

1. 安裝以下套件 :
   ```
    npm install -D tailwindcss postcss autoprefixer
   ```
2. 輸入以下指令，會產生 tailwind.config.cjs 跟 postcss.config.cjs 檔案，（ 副檔名為 .cjs 其原因是 vite 的 package.json 裡 type 為 module ）
   ```
   // -p 的參數，會另外多產生 postcss.config.cjs 檔案
   npx tailwindcss init -p

   // 如果需要產出包含 tailwind 默認完整的配置可以再加上  --full 或 -f
   // 官方鼓勵使用空的配置項，由自己去定義配置項內容
   npx tailwindcss init -p --full
   ```

 3.  配置 tailwind.config.cjs 裡 content 添加所有模板的路徑（ 每個專案路徑都有可能會不一樣，所以可以自行調整 ）
     ```js
     // 以下為 vite 產生 vue 專案的模板路徑
     module.exports = {
      content: [
        "./index.html",
        "./src/**/*.{vue,js,ts,jsx,tsx}",
      ],
      theme: {
        extend: {},
      },
      plugins: [],
     }
     ```

 4. 新增 index.css(名稱可自定義) 引入 tailwind 的  base、components、utilities
    ```css
    @tailwind base;
    @tailwind components;
    @tailwind utilities;
    ``` 
 5. 最後把 index.css 引入在 main.js 裡 ( CLI產的專案都會有 main.js 主要檔案)
     ```js
    import './index.css';
     ```
  6. 以上配置完就可以，開始開發
  
<!--endsec-->
## 其他設定

- 使用者與工作區設定，在編輯器中(Vscode)中，可透過 settings.json 來設定我們的編輯器，而 settings.json 可以多個，可以依照 settings.json 檔案位置，編輯器再決定優先度！
   1. User Settings 使用者設定 (這是會被定義為 "全域“ 配置)
   2. Workspace Settings 工作區設定，在工作區底下的 .vscode 的資料夾裡面的設定檔，當編輯器在該工作區有讀取到 .vscode 裡的設定檔，會優先使用工作區內的設定檔！
   3. 以上調整要依據每個團隊的規範，可以在調整，但大部分的設定都會依照前面 ESLint、Prettier 的設定來規範，已下代碼為需要做條整的
      ```json
      {
        "editor.detectIndentation": true, // 打開文件時自動檢測該文件
        "editor.formatOnSave": true, // 儲存時自動格式化
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": true
        },
        "eslint.validate": [
          "javascript",
          "javascriptreact",
          {
            "language": "vue",
            "autoFix": true
          }
        ]
      }
      ```

- 安裝 Volar ( VsCode Extensions ) 套件
  >  Volar 是一個 針對 vue 的 vscode 套件，提供語法高亮以及其他功能 []()